openapi: 3.0.0
info:
  version: "1"
  title: "AmazonRepricer"
  description: "Generated by Manifests generator v1.5.3. Change repricer rule for a product listing"
servers:
  - url: http://amz-orders-ngx/openapi/AmazonRepricer/v1
  - url: http://host.docker.internal:8408/openapi/AmazonRepricer/v1
  - url: http://localhost:8408/openapi/AmazonRepricer/v1
  - url: https://rollun.net/api/openapi/AmazonRepricer/v1
tags:
  - name: RepricerRules
paths:
  "/repricerRules/{sku}":
    put:
      tags:
        - RepricerRules
      summary: "Change repricer rule for a given product listing"
      parameters:
        - name: sku
          in: path
          required: true
          description: "Marketplace Listing Number (MLN) for which to change the repricer rule"
          schema:
            type: string
            example: "VW6A4"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangeRepricerRuleRequest"
            examples:
              VW6A4:
                value:
                  repricingGeneralRuleName: "Jul2023"
                  repricingAdditionalRuleName: "Without BB"
              02100228:
                value:
                  repricingGeneralRuleName: "Aug2023"
                  repricingAdditionalRuleName: "Without BB"
      responses:
        "200":
          description: "Repricer rule successfully changed"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChangeRepricerRuleResult"
        "500":
          description: "Internal error"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResult"
components:
  schemas:
    ErrorResult:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: "#/components/schemas/Message"
      description: "Message field is not required"
    Message:
      type: object
      properties:
        level:
          type: string
          description: "Message level (like in a logger)"
          enum:
            - emergency
            - alert
            - critical
            - error
            - warning
            - notice
            - info
            - debug
        type:
          type: string
          description: "Type of message for client handling; uppercase with underscores"
          enum:
            - UNDEFINED
        text:
          type: string
          description: "Message describing what went wrong"
    SuccessResult:
      allOf:
        - $ref: "#/components/schemas/ErrorResult"
      type: object
      properties:
        data:
          type: object
    ChangeRepricerRuleRequest:
      type: object
      required:
        - repricingGeneralRuleName
      properties:
        repricingGeneralRuleName:
          type: string
          description: "Name of the repricer rule to apply"
          example: "Jul2023"
        repricingAdditionalRuleName:
          type: string
          description: >
            Name of the repricer rule to apply if the current rule for this MLN in Amazon
            equals the one provided in `repricingGeneralRuleName`
          example: "Without BB"
    ChangeRepricerRuleResultItem:
      type: object
      required:
        - sku
        - appliedRuleName
      properties:
        sku:
          type: string
          description: "Marketplace Listing Number that was updated"
        appliedRuleName:
          type: string
          description: "Name of the repricer rule that was finally applied"
    ChangeRepricerRuleResult:
      allOf:
        - $ref: "#/components/schemas/SuccessResult"
      type: object
      properties:
        data:
          $ref: "#/components/schemas/ChangeRepricerRuleResultItem"
