openapi: 3.0.0
info:
  version: "3"
  title: "Labels"
  description: >
    Generated by Manifests generator v1.5.3.
    This API allows the creation and cancellation of shipping labels for different carriers like USPS, FedEx, and UPS.
    The API also supports label generation for marketplaces like Amazon, including all necessary shipping details such as package dimensions, weight, and sender/receiver information.
servers:
  - url: http://carriers/openapi/Labels/v3
  - url: http://host.docker.internal:8080/openapi/Labels/v3
  - url: http://localhost:8080/openapi/Labels/v3
tags:
  - name: Labels
    description: Operations related to creating shipping labels
  - name: LabelsMarketplaces
    description: Operations related to creating labels specifically for marketplaces like Amazon
  - name: CancelLabel
    description: Operations related to canceling shipping labels by tracking number
paths:
  "/labels":
    post:
      tags:
        - Labels
      summary: "Create a shipping label"
      description: |
        This endpoint generates a shipping label for the specified carrier,
        based on the provided sender and receiver information, shipping method,
        and package details (weight, dimensions, etc.).
      requestBody:
        description: "Request payload to create a shipping label."
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LabelPostRequest'
      responses:
        "200":
          description: "Label successfully created"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LabelResult'
        "500":
          description: "Internal error"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResult'
  "/cancel-label":
    post:
      tags:
        - CancelLabel
      summary: "Cancel a carrier label by track number"
      description: |
        This endpoint cancels an existing shipping label based on the provided
        tracking number and carrier.
      requestBody:
        description: "Request payload to cancel a shipping label."
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelLabelPostRequest'
      responses:
        "200":
          description: "Label successfully canceled"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelLabelResult'
        "500":
          description: "Internal error"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResult'
  "/labels-marketplaces":
    post:
      tags:
        - LabelsMarketplaces
      summary: "Create a shipping label for marketplaces (e.g., Amazon)"
      operationId: labelsMarketplaces
      description: |
        This endpoint generates a shipping label specifically for marketplaces
        such as Amazon, based on the provided order and shipping details.
      requestBody:
        description: "Request payload to create a marketplace shipping label."
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LabelAmazonPostRequest'
      responses:
        "200":
          description: "Label successfully created"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LabelResult'
        "500":
          description: "Internal error"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResult'
components:
  schemas:
    ## Basic result components
    ErrorResult:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: "#/components/schemas/Message"
      description: "Message field is not required"
    Message:
      type: object
      properties:
        level:
          type: string
          enum:
            - emergency
            - alert
            - critical
            - error
            - warning
            - notice
            - info
        type:
          type: string
          enum:
            - UNDEFINED
            - WRONG_SHIPPING_TYPE
            - LOGGER_MESSAGE
          description: >
            You can expose this enum for all your errors.
            UNDEFINED - Any undefined message type.
            LOGGER_MESSAGE - Same as undefined.
        text:
          type: string
          description: Message, that describes what went wrong.
    SuccessResult:
      allOf:
        - $ref: '#/components/schemas/ErrorResult'
      type: object
      properties:
        data:
          type: object

    ## One resource result
    LabelResult:
      allOf:
        - $ref: '#/components/schemas/SuccessResult'
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Label'

    CancelLabelResultItem:
      type: object
      properties:
        status:
          type: string
          example: "OK"
          description: Status of the cancellation operation.
        description:
          type: string
          example: "Success"
          description: Descriptive message for cancellation result.

    CancelLabelResult:
      allOf:
        - $ref: '#/components/schemas/SuccessResult'
      type: object
      properties:
        data:
          $ref: '#/components/schemas/CancelLabelResultItem'

    ## Body for post request
    LabelPostRequest:
      type: object
      required:
        - carrier
        - receiver
        - shippingMethodName
        - containerName
        - sender
        - weight
        - width
        - length
        - height
        - isSandbox
      properties:
        carrier:
          type: string
          enum:
            - USPS
            - FedEx
            - UPS
          example: FedEx
        receiver:
          allOf:
            - $ref: '#/components/schemas/Customer'
          description: Recipient of the shipment.
        sender:
          allOf:
            - $ref: '#/components/schemas/Customer'
          description: Sender of the shipment.
        shippingMethodName:
          type: string
          enum:
            - GroundAdvantage
            - PriorityMail
            - GroundHomeDelivery
            - 2Day
            - Ground
          example: 'GroundAdvantage'
        containerName:
          type: string
          nullable: true
          example: 'MchOvrz'
          enum:
            # USPS
            - MchCubic
            - MchFRLglEnv
            - MchFREnv
            - MchFRPddEnv
            - MchSmlFRBox
            - MchOvrz
            - MchCubicSPack1
            - MchCubicSPack2
            - MchCubicSPack3
            - MchCubicSPack4
            - MchCubicSPack5
            - MchCubicSPack6
            - MchCubicSPack7
            - MchCubicSPack8
            - MchCubicSPack9
            - MchCubicSPack10
            - MchSP
            - MchDN
            - MchDR
            - MchFRLgBox
            - MchFRMedBox
            - NStdCubic
            - NStdFRLglEnv
            - NStdFREnv
            - NStdFRPddEnv
            - NStdSmlFRBox
            - NStdOvrz
            - NStdCubicSPack1
            - NStdCubicSPack2
            - NStdCubicSPack3
            - NStdCubicSPack4
            - NStdCubicSPack5
            - NStdCubicSPack6
            - NStdCubicSPack7
            - NStdCubicSPack8
            - NStdCubicSPack9
            - NStdCubicSPack10
            - NStdSP
            - NStdDR
            - NStdDN
            - NStdFRLgBox
            - FlCubic
            - FlFRLglEnv
            - FlFREnv
            - FlFRPddEnv
            - FlSmlFRBox
            - FlOvrz
            - FlCubicSPack1
            - FlCubicSPack2
            - FlCubicSPack3
            - FlCubicSPack4
            - FlCubicSPack5
            - FlCubicSPack6
            - FlCubicSPack7
            - FlCubicSPack8
            - FlCubicSPack9
            - FlCubicSPack10
            - FlSP
            - FlFRLgBox
            - LtsCubic
            - LtsFRLglEnv
            - LtsFREnv
            - LtsFRPddEnv
            - LtsSmlFRBox
            - LtsOvrz
            - LtsCubicSPack1
            - LtsCubicSPack2
            - LtsCubicSPack3
            - LtsCubicSPack4
            - LtsCubicSPack5
            - LtsCubicSPack6
            - LtsCubicSPack7
            - LtsCubicSPack8
            - LtsCubicSPack9
            - LtsCubicSPack10
            - LtsSP
            - LtsFRLgBox
        weight:
          type: number
          example: 80.5
        weightUnitOfMeasurement:
          type: string
          enum:
            - pound
            - ounce
          example: pound
        width:
          type: number
          description: width in inches
          example: 5
        length:
          type: number
          description: length in inches
          example: 5
        height:
          type: number
          description: height in inches
          example: 5
        canFly:
          type: boolean
          default: false
          example: false
        hazardousMaterials:
          type: boolean
          default: false
          example: false
          description: Indicate type of Dangerous Goods being reported.
        isSandbox:
          type: boolean
          default: true
          example: true
          description: Indicate this is a sandbox API request.
    CancelLabelPostRequest:
      type: object
      required:
        - trackingNumber
        - carrier
      properties:
        trackingNumber:
          type: string
          example: '1ZISUS010330563105'
          description: The package's tracking number.
        carrier:
          type: string
          enum:
            - USPS
            - FedEx
            - UPS
          example: FedEx
    LabelAmazonPostRequest:
      type: object
      required:
        - orderId
        - items
        - sender
        - shippingMethodName
      properties:
        orderId:
          type: string
        sellerOrderId:
          type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/LineItems'
        sender:
          allOf:
            - $ref: '#/components/schemas/CustomerMP'
          description: Sender of the shipment.
        shippingMethodName:
          type: string
          enum:
            - First-Class Package Service
            - Priority Mail
            - Priority Mail Legal Flat Rate Envelope
            - Priority Mail Flat Rate Padded Envelope
            - Priority Mail Small Flat Rate Box
            - Priority Mail Medium Flat Rate Box
            - Priority Mail Large Flat Rate Box
            - Priority Mail Regional Rate Box A
            - Priority Mail Regional Rate Box B
            - Parcel Select
            - Parcel Select Ground
            - Priority Mail Flat Rate Envelope
            - Priority Mail Cubic
            - Priority Mail Large Flat Rate Board Game Box
            - Ground Advantage
            - Ground
            - Ground Saver
          example: 'Ground Advantage'
        weight:
          type: number
          example: 80.5
        width:
          type: number
          description: width in inches
        length:
          type: number
          description: length in inches
        height:
          type: number
          description: height in inches
        customId:
          type: string
    LineItems:
      type: object
      properties:
        OrderItemId:
          type: string
        Quantity:
          type: integer
    Label:
      type: object
      properties:
        labelImage:
          type: string
          description: base64 encoded label image in pdf
        trackNumber:
          type: string
        totalPrice:
          type: number
          example: 7.85
    CustomerMP:
      type: object
      required:
        - name
        - address
      properties:
        name:
          type: string
        phone:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        address:
          $ref: '#/components/schemas/AddressMP'
    Customer:
      type: object
      required:
        - name
        - address
      properties:
        name:
          type: string
        phone:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        address:
          $ref: '#/components/schemas/Address'
    Address:
      type: object
      required:
        - country
        - state
        - city
        - postalCode
        - address1
      properties:
        country:
          type: string
          description: "Country code"
        state:
          type: string
          description: US state code
        city:
          type: string
          description: Full city name
        postalCode:
          type: string
          description: ZIP or postal code
        address1:
          type: string
          description: First line of the address
        address2:
          type: string
          nullable: true
          description: Second line of the address
    AddressMP:
      type: object
      required:
        - country
        - state
        - city
        - postalCode
        - address1
      properties:
        country:
          type: string
          description: "Country code"
        state:
          type: string
          description: US state code
          example: CA
        city:
          type: string
          description: Full city name
          example: San Francisco
        postalCode:
          type: string
          description: ZIP or postal code
          example: "94104"
        address1:
          type: string
          description: First line of the address
        address2:
          type: string
          nullable: true
          description: Second line of the address
